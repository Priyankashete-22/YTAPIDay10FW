name : Regression suite
on : 
  push : 
    branches : 
      -main 

  pull_request :
    branches :
      -main

jobs :
  run-tests :
    runs-on : ubuntu-latest

schedule :
  - cron : '302***'
    
steps : 
  - name : checkout code
    uses : actions/checkout@v3

  - name : Set up python
    uses : actions/setup-python@v3
    with :
      Python-version : '3.9.20'

  - name : Install dependencies
    run : | 
      python -m pip install --upgrade pip
      pip install -r requirements.txt

  - name : Run tests
    run : | 
      pytest -s --html = report.html -self-contained-html

  - name : Upload report
    uses : actions/upload - artifact@v3
    with : 
      name : pytest-report
      Path : report.html
        
  
      
